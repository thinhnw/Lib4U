@model IEnumerable<Lib4U.Models.Book>

@{
    ViewBag.Title = "Index";
}

<p class="mt-3">
    <a href="@Url.Action("Create", "Books")" class="btn btn-primary">
        Create New
    </a>
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Publisher.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Title)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Image)
        </th>
        <th>
            <label class="control-label col-md-2" for="Total_pages">Total Pages</label>
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Rating)
        </th>
        <th>
            <label class="control-label col-md-2" for="Published_date">Published Date</label>
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Quantity)
        </th>
        <th>
            <label class="control-label col-md-2" for="AvailableQuantity">Available Quantity</label>
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
<tr>
    <td>
        @Html.DisplayFor(modelItem => item.Publisher.Name)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Title)
    </td>
    <td>
        <img src="@Url.Content(item.Image)" width="150" height="150" />
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Total_pages)
    </td>
    <td>
        <div class="star">
            @for (decimal i = 0; i < Math.Round(item.Rating); i++)
            {
                <span class="star-rate"></span>
            }
            @for (decimal i = Math.Round(item.Rating); i < 5; i++)
            {
                <span class="star-box"></span>

            }
        </div>
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Published_date)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Quantity)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.AvailableQuantity)
    </td>
    <td>
        @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
        @Html.ActionLink("Details", "Details", new { id = item.Id }) |
        @Html.ActionLink("Delete", "Delete", new { id = item.Id })
    </td>
</tr>
}
</table>
